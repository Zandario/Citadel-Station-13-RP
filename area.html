<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;area - Citadel Station 13 - Roleplay</title>
</head>
<body>
<header>
    <a href="index.html">Citadel Station 13 - Roleplay</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="area.html#var">Var Details</a> - <a href="area.html#proc">Proc Details</a></header>
<main>
<h1>area <aside>/<a href="area.html">area</a></aside><aside> inherits /<a href="atom.html">atom</a></aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L6">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 6"/></a></h1>

<p>A grouping of tiles into a logical space, mostly used by map editors</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="area.html#var/always_unpowered">always_unpowered</a></th><td>This gets overridden to 1 for space in area/.</td></tr>
            <tr><th><a href="area.html#var/area_flags">area_flags</a></th><td>area flags</td></tr>
            <tr><th><a href="area.html#var/area_limited_icon_smoothing">area_limited_icon_smoothing</a></th><td>Typepath to limit the areas (subtypes included) that atoms in this area can smooth with. Used for shuttles.</td></tr>
            <tr><th><a href="area.html#var/minimap_color">minimap_color</a></th><td>Color on minimaps, if it's null (which is default) it makes one at random.</td></tr>
            <tr><th><a href="area.html#var/parallax_move_angle">parallax_move_angle</a></th><td>Parallax move dir - degrees clockwise from north</td></tr>
            <tr><th><a href="area.html#var/parallax_move_speed">parallax_move_speed</a></th><td>Parallax move speed - 0 to disable</td></tr>
            <tr><th><a href="area.html#var/parallax_moving">parallax_moving</a></th><td>Parallax moving?</td></tr>
            <tr><th><a href="area.html#var/power_equip">power_equip</a></th><td>Power channel status - Is it currently energized?</td></tr>
            <tr><th><a href="area.html#var/requires_power">requires_power</a></th><td>Will objects this area be needing power?</td></tr>
            <tr><th><a href="area.html#var/sound_env">sound_env</a></th><td>Used to decide what kind of reverb the area makes sound have</td></tr>
            <tr><th><a href="area.html#var/unique">unique</a></th><td>If false, loading multiple maps with this area type will create multiple instances.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="area.html#proc/Destroy">Destroy</a></th><td>Destroy an area and clean it up</td></tr>
            <tr><th><a href="area.html#proc/Exited">Exited</a></th><td>Called when an atom exits an area</td></tr>
            <tr><th><a href="area.html#proc/New">New</a></th><td>Called when an area loads</td></tr>
            <tr><th><a href="area.html#proc/arfgs_activate">arfgs_activate</a></th><td>Activate all retention fields!</td></tr>
            <tr><th><a href="area.html#proc/arfgs_deactivate">arfgs_deactivate</a></th><td>Deactivate retention fields!</td></tr>
            <tr><th><a href="area.html#proc/check_static_power">check_static_power</a></th><td>Debugging proc to report if static power is correct or not.</td></tr>
            <tr><th><a href="area.html#proc/clear_usage">clear_usage</a></th><td>Clear all non-static power usage in area</td></tr>
            <tr><th><a href="area.html#proc/copy_contents_to">copy_contents_to</a></th><td>Takes: Area. Optional: If it should copy to areas that don't have plating
Returns: Nothing.
Notes: Attempts to move the contents of one area to another area.
Movement based on lower left corner. Tiles that do not fit
into the new area will not be moved.</td></tr>
            <tr><th><a href="area.html#proc/firedoors_close">firedoors_close</a></th><td>Close all firedoors in the area</td></tr>
            <tr><th><a href="area.html#proc/firedoors_open">firedoors_open</a></th><td>Open all firedoors in the area</td></tr>
            <tr><th><a href="area.html#proc/firedoors_update">firedoors_update</a></th><td>Either close or open firedoors depending on current alert statuses</td></tr>
            <tr><th><a href="area.html#proc/move_contents_to">move_contents_to</a></th><td>Takes: Area. Optional: turf type to leave behind.
Returns: Nothing.
Notes: Attempts to move the contents of one area to another area.
Movement based on lower left corner. Tiles that do not fit
into the new area will not be moved.</td></tr>
            <tr><th><a href="area.html#proc/power_change">power_change</a></th><td>Called when the area power status changes</td></tr>
            <tr><th><a href="area.html#proc/power_use_change">power_use_change</a></th><td>This is used by machines to properly update the area of power changes.</td></tr>
            <tr><th><a href="area.html#proc/powered">powered</a></th><td>Returns int 1 or 0 if the area has power for the given channel</td></tr>
            <tr><th><a href="area.html#proc/reg_in_areas_in_z">reg_in_areas_in_z</a></th><td>Register this area as belonging to a z level</td></tr>
            <tr><th><a href="area.html#proc/retally_power">retally_power</a></th><td>This recomputes the continued power usage; can be used for testing or error recovery, but is not called every tick.</td></tr>
            <tr><th><a href="area.html#proc/use_power_oneoff">use_power_oneoff</a></th><td>Add a power value amount to the stored used_x variables</td></tr>
            <tr><th><a href="area.html#proc/use_power_static">use_power_static</a></th><td>Not a proc you want to use directly unless you know what you are doing; see use_power_oneoff above instead.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/always_unpowered"><aside class="declaration">var </aside>always_unpowered
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L30">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 30"/></a></h3>
        <p>This gets overridden to 1 for space in area/.</p><h3 id="var/area_flags"><aside class="declaration">var </aside>area_flags
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L8">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 8"/></a></h3>
        <p>area flags</p><h3 id="var/area_limited_icon_smoothing"><aside class="declaration">var </aside>area_limited_icon_smoothing
            <aside>&ndash; /<a href="area.html">area</a></aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L81">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 81"/></a></h3>
        <p>Typepath to limit the areas (subtypes included) that atoms in this area can smooth with. Used for shuttles.</p><h3 id="var/minimap_color"><aside class="declaration">var </aside>minimap_color
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L76">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 76"/></a></h3>
        <p>Color on minimaps, if it's null (which is default) it makes one at random.</p><h3 id="var/parallax_move_angle"><aside class="declaration">var </aside>parallax_move_angle
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L52">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 52"/></a></h3>
        <p>Parallax move dir - degrees clockwise from north</p><h3 id="var/parallax_move_speed"><aside class="declaration">var </aside>parallax_move_speed
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L50">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 50"/></a></h3>
        <p>Parallax move speed - 0 to disable</p><h3 id="var/parallax_moving"><aside class="declaration">var </aside>parallax_moving
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L48">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 48"/></a></h3>
        <p>Parallax moving?</p><h3 id="var/power_equip"><aside class="declaration">var </aside>power_equip
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L33">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 33"/></a></h3>
        <p>Power channel status - Is it currently energized?</p><h3 id="var/requires_power"><aside class="declaration">var </aside>requires_power
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L28">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 28"/></a></h3>
        <p>Will objects this area be needing power?</p><h3 id="var/sound_env"><aside class="declaration">var </aside>sound_env
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L68">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 68"/></a></h3>
        <p>Used to decide what kind of reverb the area makes sound have</p><h3 id="var/unique"><aside class="declaration">var </aside>unique
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L73">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 73"/></a></h3>
        <p>If false, loading multiple maps with this area type will create multiple instances.</p><h2 id="proc">Proc Details</h2><h3 id="proc/Destroy"><aside class="parent"><a title="/atom" href="atom.html#proc/Destroy">&uarr;</a></aside>Destroy<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L172">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 172"/></a></aside>
        </h3>
        <p>Destroy an area and clean it up</p>
<p>Removes the area from GLOB.areas_by_type and also stops it processing on SSobj</p>
<p>This is despite the fact that no code appears to put it on SSobj, but
who am I to argue with old coders</p><h3 id="proc/Exited"><aside class="parent"><a title="/atom" href="atom.html#proc/Exited">&uarr;</a></aside>Exited<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/M) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/areas_movement.dm#L53">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;areas_movement.dm 53"/></a></aside>
        </h3>
        <p>Called when an atom exits an area</p>
<p>Sends signals COMSIG_AREA_EXITED and COMSIG_ATOM_EXIT_AREA (to the atom)</p><h3 id="proc/New"><aside class="parent"><a title="/atom" href="atom.html#proc/New">&uarr;</a></aside>New<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L86">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 86"/></a></aside>
        </h3>
        <p>Called when an area loads</p>
<p>Adds the item to the GLOB.areas_by_type list based on area type</p><h3 id="proc/arfgs_activate"><aside class="declaration">proc </aside>arfgs_activate<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L304">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 304"/></a></aside>
        </h3>
        <p>Activate all retention fields!</p><h3 id="proc/arfgs_deactivate"><aside class="declaration">proc </aside>arfgs_deactivate<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L314">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 314"/></a></aside>
        </h3>
        <p>Deactivate retention fields!</p><h3 id="proc/check_static_power"><aside class="declaration">proc </aside>check_static_power<aside>(user) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L501">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 501"/></a></aside>
        </h3>
        <p>Debugging proc to report if static power is correct or not.</p><h3 id="proc/clear_usage"><aside class="declaration">proc </aside>clear_usage<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L439">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 439"/></a></aside>
        </h3>
        <p>Clear all non-static power usage in area</p>
<p>Clears all power used for the dynamic equipment, light and environment channels</p><h3 id="proc/copy_contents_to"><aside class="declaration">proc </aside>copy_contents_to<aside>(/<a href="area.html">area</a>/A, platingRequired) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/__HELPERS/unsorted.dm#L802">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;unsorted.dm 802"/></a></aside>
        </h3>
        <p>Takes: Area. Optional: If it should copy to areas that don't have plating
Returns: Nothing.
Notes: Attempts to move the contents of one area to another area.
Movement based on lower left corner. Tiles that do not fit
into the new area will not be moved.</p>
<p>Does <em>not</em> affect gases etc; copied turfs will be changed via ChangeTurf,
and the dir, icon, and icon_state copied. All other vars will remain default.</p><h3 id="proc/firedoors_close"><aside class="declaration">proc </aside>firedoors_close<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L276">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 276"/></a></aside>
        </h3>
        <p>Close all firedoors in the area</p><h3 id="proc/firedoors_open"><aside class="declaration">proc </aside>firedoors_open<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L290">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 290"/></a></aside>
        </h3>
        <p>Open all firedoors in the area</p><h3 id="proc/firedoors_update"><aside class="declaration">proc </aside>firedoors_update<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L259">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 259"/></a></aside>
        </h3>
        <p>Either close or open firedoors depending on current alert statuses</p><h3 id="proc/move_contents_to"><aside class="declaration">proc </aside>move_contents_to<aside>(/<a href="area.html">area</a>/A, turftoleave, direction) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/__HELPERS/unsorted.dm#L666">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;unsorted.dm 666"/></a></aside>
        </h3>
        <p>Takes: Area. Optional: turf type to leave behind.
Returns: Nothing.
Notes: Attempts to move the contents of one area to another area.
Movement based on lower left corner. Tiles that do not fit
into the new area will not be moved.</p><h3 id="proc/power_change"><aside class="declaration">proc </aside>power_change<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L413">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 413"/></a></aside>
        </h3>
        <p>Called when the area power status changes</p>
<p>Updates the area icon, calls power change on all machinees in the area, and sends the <code>COMSIG_AREA_POWER_CHANGE</code> signal.</p><h3 id="proc/power_use_change"><aside class="declaration">proc </aside>power_use_change<aside>(old_amount, new_amount, chan) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L458">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 458"/></a></aside>
        </h3>
        <p>This is used by machines to properly update the area of power changes.</p><h3 id="proc/powered"><aside class="declaration">proc </aside>powered<aside>(chan) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L392">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 392"/></a></aside>
        </h3>
        <p>Returns int 1 or 0 if the area has power for the given channel</p>
<p>evalutes a mixture of variables mappers can set, requires_power, always_unpowered and then
per channel power_equip, power_light, power_environ</p><h3 id="proc/reg_in_areas_in_z"><aside class="declaration">proc </aside>reg_in_areas_in_z<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L152">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 152"/></a></aside>
        </h3>
        <p>Register this area as belonging to a z level</p>
<p>Ensures the item is added to the SSmapping.areas_in_z list for this z</p><h3 id="proc/retally_power"><aside class="declaration">proc </aside>retally_power<aside>() 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L472">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 472"/></a></aside>
        </h3>
        <p>This recomputes the continued power usage; can be used for testing or error recovery, but is not called every tick.</p><h3 id="proc/use_power_oneoff"><aside class="declaration">proc </aside>use_power_oneoff<aside>(amount, chan) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L447">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 447"/></a></aside>
        </h3>
        <p>Add a power value amount to the stored used_x variables</p><h3 id="proc/use_power_static"><aside class="declaration">proc </aside>use_power_static<aside>(amount, chan) 
        
    
            <a href="https://github.com/Zandario/Citadel-Station-13-RP/blob/c34e6aca5d1b78375a406ed669b897cf0a26cf8c/code/game/area/area.dm#L462">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;area&#x2F;area.dm 462"/></a></aside>
        </h3>
        <p>Not a proc you want to use directly unless you know what you are doing; see use_power_oneoff above instead.</p></main>
<footer>
    citadel.dme
    <a href="https://github.com/Zandario/Citadel-Station-13-RP/tree/c34e6aca5d1b78375a406ed669b897cf0a26cf8c">c34e6ac</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
